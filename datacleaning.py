from geopy.geocoders import Nominatim

MRT_STATIONS = [
    ('BUANGKOK', [103.893146827404, 1.38216324197588]),
    ('SENGKANG', [103.895300986794, 1.39085757553574]),
    ('YIO CHU KANG', [103.84427960206, 1.38217333197858]),
    ('EXPO', [103.961542734126, 1.33453457217766]),
    ('BEDOK', [103.929859078336, 1.32384182235638]),
    ('KEMBANGAN', [103.912397526716, 1.32081140240552]),
    ('EUNOS', [103.90302220539, 1.31963663196537]),
    ('TAMPINES', [103.944784766847, 1.35354881948952]),
    ('COMMONWEALTH', [103.797777534416, 1.30278285762641]),
    ('BUONA VISTA', [103.789479631239, 1.30719414101311]),
    ('DOVER', [103.778370906556, 1.3114300304485]),
    ('HOUGANG', [103.892485152518, 1.37083554557132]),
    ('MARSILING', [103.773550160653, 1.43245702244493]),
    ('SEMBAWANG', [103.819727057641, 1.44884711412338]),
    ('WOODLANDS', [103.785705842133, 1.43653191149168]),
    ('YISHUN', [103.835074105665, 1.42930825458239]),
    ('PUNGGOL', [103.902268512135, 1.40472215581355]),
    ('CHOA ', [103.744106037612, 1.38527561751461]),
    ('YEW  TEE', [103.747406162943, 1.39713488963351]),
    ('BUKIT GOMBAK', [103.75199562073, 1.35818887593322]),
    ('NEWTON', [103.837866672146, 1.31226538751841]),
    ('KALLANG', [103.871245166007, 1.31140491532864]),
    ('POTONG PASIR', [103.869052871702, 1.33057042871827]),
    ('BOON KENG', [103.861715490506, 1.31967380050244]),
    ('DHOBY GHAUT', [103.845491269803, 1.30015366079008]),
    ('OUTRAM PARK', [103.839723688673, 1.27993396473282]),
    ('FARRER  ROAD', [103.807521427307, 1.31740665993945]),
    ('TELOK BLANGAH', [103.80957740752, 1.27046342874567]),
    ('LABRADOR PARK', [103.802465288115, 1.272111068813]),
    ('BOON       LAY', [103.705604076176, 1.33824334270161]),
    ('BUONA', [103.791326636033, 1.30944129428447]),
    ('CHU KANG', [103.744456565922, 1.38509416941478]),
    ('GARDENS', [103.814908904607, 1.3218620926684]),
    ('MACPHERSON', [103.890306656226, 1.32636463416324]),
    ('TAI SENG', [103.888296249134, 1.33552173419793]),
    ('MOUNTBATTEN', [103.88186787211, 1.30584900128618]),
    ('PROMENADE', [103.860897344781, 1.29272289572142]),
    ('HAW PAR VILLA', [103.781412769538, 1.28291453151237]),
    ('PASIR PANJANG', [103.790667207803, 1.27633561508044]),
    ('SERANGOON', [103.873126836378, 1.34889700360892]),
    ('SERANGOON', [103.871763170421, 1.35075723235078]),
    ('BEDOK NORTH', [103.916591064643, 1.33517128764765]),
    ('KAKI BUKIT', [103.907258672251, 1.33460592729349]),
    ('BEDOK RESERVOIR', [103.931090503655, 1.33644450992776]),
    ('TAMPINES', [103.942350423777, 1.35430785578761]),
    ('GEYLANG BAHRU', [103.871830804307, 1.32142939137242]),
    ('UBI', [103.899104408224, 1.32975978142848]),
    ('JALAN BESAR', [103.855402169331, 1.3054206521765]),
    ('ORCHARD  BOULEVARD', [103.823952336647, 1.30240246527113]),
    ('MAXWELL', [103.843772420219, 1.28046324360043]),
    ('HILLVIEW', [103.767526438783, 1.36202999465646]),
    ('BUKIT PANJANG', [103.761319258645, 1.37950913341157]),
    ('WOODLANDS SOUTH', [103.792887162794, 1.42749565439267]),
    ('WOODLANDS NORTH', [103.785214276696, 1.44908408346462]),
    ('BISHAN', [103.84899202491, 1.3512571613439]),
    ('BISHAN', [103.848178128523, 1.35050539368304]),
    ('NICOLL HIGHWAY', [103.863394327461, 1.29965927124286]),
    ('BARTLEY', [103.87948466713, 1.34304918055989]),
    ('ONE-NORTH', [103.787261752789, 1.29920907541704]),
    ('REDHILL', [103.816287836072, 1.28974156104041]),
    ('TIONG BAHRU', [103.826326505379, 1.28624200065218]),
    ('MARYMOUNT', [103.839496019729, 1.3484524662913]),
    ('NOVENA', [103.843715544085, 1.32015682352872]),
    ('SPRINGLEAF', [103.81776000956, 1.3987125092042]),
    ('NEWTON', [103.838016219263, 1.31357895255932]),
    ('SIXTH    AVENUE', [103.797392817412, 1.33083425028905]),
    ('STEVENS', [103.825060748593, 1.32021550305314]),
    ('HARBOURFRONT', [103.820840757121, 1.26513306422402]),
    ('GARDENS BY THE BAY', [103.867607320753, 1.27862598919158]),
    ('LITTLE  INDIA', [103.848463268266, 1.30716737848227]),
    ('BEAUTY WORLD', [103.775766635976, 1.34163539051744]),
    ('CANBERRA', [103.829196864009, 1.44354013277492]),
    ('WOODLEIGH', [103.870911943187, 1.33862499725312]),
    ('MARINE PARADE', [103.905017805766, 1.30247017870594]),
    ('SIGLAP', [103.929833496163, 1.30974207821569]),
    ('TENGAH', [103.730046236362, 1.36633904578021]),
    ('HONG KAH', [103.726092119338, 1.35807194773328]),
    ('TENGAH PLANTATION', [103.733457189547, 1.35733820919974]),
    ('PIONEER', [103.697083172399, 1.33746326613418]),
    ('BAHAR JUNCTION', [103.703388499123, 1.34622965683251]),
    ('GEK POH', [103.697934359302, 1.34823797315089]),
    ('BOON    LAY', [103.70427773891, 1.33858016675639]),
    ('ENTERPRISE', [103.708566083028, 1.33213621209197]),
    ('TAWAS', [103.691706554517, 1.35063795977401]),
    ('PENG KANG HILL', [103.678411700692, 1.34324045976462]),
    ('NANYANG CRESCENT', [103.680812341588, 1.34825358558899]),
    ('TUKANG', [103.709029164238, 1.32572901216032]),
    ('BAYSHORE', [103.94186663653, 1.31286955054771]),
    ('BEDOK SOUTH', [103.949191842688, 1.3164099938116]),
    ('MARINE TERRACE', [103.914978523534, 1.30669619756436]),
    ('EXPO', [103.962244433998, 1.33529788573876]),
    ('CHOA CHU KANG WEST', [103.740007316392, 1.37921829672166]),
    ('TUAS WEST ROAD', [103.639370101084, 1.33005003625121]),
    ('TUAS LINK', [103.636815649971, 1.34007160420115]),
    ('MARINA BAY', [103.855247208604, 1.27591879865081]),
    ('CHINATOWN', [103.844842234608, 1.2843974045098]),
    ('NAPIER', [103.818795060567, 1.30762369549749]),
    ('MOUNT PLEASANT', [103.83420359112, 1.32817965461678]),
    ('MAYFLOWER', [103.836809220104, 1.37111526645712]),
    ('PRINCE EDWARD ROAD', [103.846766256953, 1.27305820440638]),
    ('BUKIT BATOK', [103.749330229888, 1.34846267921789]),
    ('JURONG ', [103.741861119052, 1.33330264695893]),
    ('ORCHARD', [103.832258048202, 1.30402365324304]),
    ('DHOBY GHAUT', [103.846111616094, 1.2986786143261]),
    ('LITTLE  INDIA', [103.850085653878, 1.30752281600688]),
    ('BUONA', [103.791326636033, 1.30944129428447]),
    ('PASIR RIS', [103.949334194306, 1.37268003391141]),
    ('FORT', [103.844118730763, 1.29213096359624]),
    ('BENCOOLEN', [103.850306567606, 1.29885746650295]),
    ('GREAT WORLD', [103.833562589427, 1.29468795253204]),
    ('ROCHOR', [103.852372757107, 1.30409651170101]),
    ('BOTANIC', [103.816254911087, 1.3225781312151]),
    ('CANNING', [103.844499240155, 1.29277626062082]),
    ('GEK POH', [103.697934359302, 1.34823797315089]),
    ('TANJONG PAGAR', [103.845613707367, 1.27651152598596]),
    ('EAST', [103.741726254301, 1.33312203782913]),
    ("FOUNDERS' MEMORIAL", [103.86904902642, 1.29090504400465]),
    ('TAMPINES NORTH', [103.93783647284, 1.36877556960019]),
    ('LOYANG', [103.972124128135, 1.37113303935458]),
    ('AVIATION PARK', [104.003384843649, 1.37012037323753]),
    ('HAVELOCK', [103.833441373916, 1.28889288108273]),
    ('BAHAR', [103.702330405238, 1.34602517242579]),
    ('CHINESE', [103.732902364628, 1.34216103167742]),
    ('ANG MO KIO', [103.849201215347, 1.3704264812108]),
    ('TANAH MERAH', [103.94597771608, 1.32692963866643]),
    ('SIMEI', [103.953120810557, 1.3433181520403]),
    ('QUEENSTOWN', [103.805697126508, 1.29498290965459]),
    ('KOVAN', [103.884926920816, 1.3598319381692]),
    ('KRANJI', [103.761892614638, 1.42492498407635]),
    ('TECK GHEE', [103.843406579419, 1.36511370177807]),
    ('TAVISTOCK', [103.862867623815, 1.36992395216491]),
    ('HOUGANG', [103.890231537255, 1.37185799468263]),
    ('DEFU', [103.898692239551, 1.36207331147782]),
    ('JURONG HILL', [103.710131538738, 1.31803047979688]),
    ('JURONG PIER', [103.710384301353, 1.31313376954159]),
    ('TOH GUAN', [103.74248859875, 1.33989897302747]),
    ('JURONG TOWN HALL', [103.745217570048, 1.32638717021229]),
    ('ALJUNIED', [103.882532630529, 1.31625451358514]),
    ('CHINATOWN', [103.842982219611, 1.28379519476401]),
    ('HOLLAND VILLAGE', [103.795978967498, 1.31189426907696]),
    ('CORPORATION', [103.713402561504, 1.35256804197687]),
    ('GARDEN', [103.732494898851, 1.34226895506196]),
    ('PAYA LEBAR', [103.89229430803, 1.31711131044769]),
    ('STADIUM', [103.87518729662, 1.30277868248852]),
    ('LORONG CHUAN', [103.863716806857, 1.3515380783584]),
    ('JOO KOON', [103.678121290671, 1.32763983237065]),
    ('PASIR RIS', [103.947838449864, 1.37175687899861]),
    ('TAMPINES WEST', [103.938488800403, 1.34457338372822]),
    ('CASHEW', [103.764467830334, 1.3694851028525]),
    ('WOODLANDS ', [103.788219493239, 1.43543322538627]),
    ('GUL CIRCLE', [103.660653369612, 1.3195170518942]),
    ('DAKOTA', [103.888444914184, 1.30823958902693]),
    ('CALDECOTT', [103.839632466305, 1.33752055780847]),
    ('KENT RIDGE', [103.784495033332, 1.29295174594509]),
    ('CLEMENTI', [103.765015612347, 1.31536868427635]),
    ('BRADDELL', [103.846895683264, 1.34014411766572]),
    ('LENTOR', [103.835709635357, 1.38560339787789]),
    ('GARDENS', [103.816228338366, 1.32241944127039]),
    ('TAN    KAH    KEE', [103.807296762562, 1.32594951213801]),
    ('KING ALBERT PARK', [103.783918293793, 1.33562324372336]),
    ('MARINA SOUTH PIER', [103.863000308855, 1.27143967526742]),
    ('UPPER  CHANGI', [103.961355702477, 1.34082627723385]),
    ('MATTAR', [103.883042106827, 1.32682992525846]),
    ('XILIN', [103.964950515102, 1.32848856533051]),
    ('BENDEMEER', [103.862711606546, 1.31363256304469]),
    ('DOWNTOWN', [103.852721713897, 1.27943824734303]),
    ('OUTRAM PARK', [103.83928991516, 1.28157040780332]),
    ('SHENTON WAY', [103.850493172346, 1.27769582253088]),
    ('MARINA BAY', [103.855497493008, 1.27452442949019]),
    ('ADMIRALTY', [103.800589985252, 1.44032467701894]),
    ('KHATIB', [103.833000245495, 1.41734405203061]),
    ('LAKESIDE', [103.720571020304, 1.34405654426621]),
    ('RAFFLES   PLACE', [103.851510597732, 1.28421118846267]),
    ('BUGIS', [103.85606485125, 1.3009116284982]),
    ('JUNCTION', [103.702192787743, 1.34594961366994]),
    ('NANYANG GATEWAY', [103.686619682998, 1.35350802246019]),
    ('SUNGEI BEDOK', [103.956649904353, 1.32006116684785]),
    ('TANJONG RHU', [103.873439398655, 1.29713969407169]),
    ('TUAS CRESCENT', [103.648766818958, 1.32114948787126]),
    ('BUGIS', [103.85696426986, 1.29945801577041]),
    ('TELOK AYER', [103.847966484372, 1.28250760675271]),
    ('BUKIT BROWN', [103.830033301199, 1.33331457493733]),
    ('STEVENS', [103.825319238904, 1.32043247726237]),
    ('CALDECOTT', [103.840247954784, 1.33630477097616]),
    ('UPPER THOMSON', [103.83200786043, 1.3547536057722]),
    ('PANDAN RESERVOIR', [103.744861260876, 1.32056671070292]),
    ('MARINA BAY', [103.854531674797, 1.27652518949543]),
    ('TOA PAYOH', [103.847586425462, 1.33263089303201]),
    ('SOMERSET', [103.839069261637, 1.3002770336235]),
    ('CITY HALL', [103.852742261158, 1.29269424538355]),
    ('FARRER PARK', [103.854114606149, 1.31236676997762]),
    ('CLARKE QUAY', [103.84676104186, 1.28894003341287]),
    ('BUONA VISTA', [103.790392821503, 1.30585735242083]),
    ('BAYFRONT', [103.858908705626, 1.28166966150604]),
    ('ORCHARD ', [103.831346697448, 1.3029147332565]),
    ('MARINA SOUTH', [103.863194363307, 1.27406667571693]),
    ('CHANGI AIRPORT', [103.988367927274, 1.35722672261815]),
    ('ANG MO KIO', [103.85064809719, 1.36916835123963]),
    ('SERANGOON NORTH', [103.872832398724, 1.37076775122542]),
    ('BUKIT BATOK WEST', [103.739548297698, 1.34563865897402]),
    ('BOTANIC', [103.814775234184, 1.32197204341002]),
    ('BRAS BASAH', [103.850705974692, 1.29694539607423]),
    ('KEPPEL', [103.830052571107, 1.26976467944323]),
    ('LAVENDER', [103.86273558069, 1.30730850836865]),
    ('HUME', [103.76878275019, 1.35492363942832]),
    ('ESPLANADE', [103.855514300477, 1.29333149675039]),
    ('PAYA LEBAR', [103.892569906559, 1.31793025809824]),
    ('TANJONG KATONG', [103.897314371045, 1.29913275971781]),
    ('PUNGGOL COAST', [103.909689157446, 1.41466147726118]),
    ('BRIGHT HILL', [103.83524215517, 1.36363181548529]),
    ('PASIR RIS EAST', [103.959962400042, 1.36740260562679]),
    ('CANTONMENT', [103.836428197814, 1.27282196335065]),
    ('TAMPINES EAST', [103.954281741625, 1.35611564921441]),
    ('BRIGHT HILL', [103.832337964744, 1.36263474621818]),
    ('KATONG PARK', [103.885624383878, 1.29780721946166]),
    ('TENGAH PARK', [103.736786997094, 1.35234101831937]),
    ('JURONG WEST', [103.707846759967, 1.34877637159458]),
    ]

geolocator = Nominatim(user_agent="heart_bot")

def nearest(address):
    location = geolocator.geocode(address)
    latlong = [location.latitude, location.longitude][::-1]
    def short_dis(latlong2):
        return ((latlong[0]-latlong2[0])**2+(latlong[1]-latlong2[1])**2)**0.5
    mapped = [(i[0], short_dis(i[1])) for i in MRT_STATIONS]
    return min(mapped, key = lambda t: t[1])
